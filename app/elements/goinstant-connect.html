<link rel="import" href="../bower_components/polymer/polymer.html">

<polymer-element name="go-connect" attributes="account app room">
  <template></template>

  <script>
    Polymer('go-connect', {
      // Placeholders for account and app ids
      account: null,
      app: null,
      room: null,

      /*
       * Connect to goinstant app
       * Returns promise
       */
      connect: function(callback) {
        var url = 'https://goinstant.net/' + this.account + '/' + this.app;

        var opts = {};

        if(this.room) {
          opts.room = this.room;
        }

        return goinstant.connect(url, opts, callback);
      }
    });
  </script>
</polymer-element>